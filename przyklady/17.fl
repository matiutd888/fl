function<int()> counter(function<int()> initialValueGenerator) {
    int x = initialValueGenerator() - 1;
    return lambda () -> int {
        x = x + 1;
        return x;
    }
}

void main() {
    function<int()> f = counter( () -> int {
        return 12;
    } );

}